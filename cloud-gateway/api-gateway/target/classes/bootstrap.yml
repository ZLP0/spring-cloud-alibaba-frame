server:
  port: 9090

spring:
  application:
    name: gateway-api

  cloud:
    # Nacos帮助文档: https://nacos.io/zh-cn/docs/concepts.html
    nacos:
      discovery:
        username: nacos
        password: nacos
        server-addr: localhost:8848
        # 注册到 nacos 的指定 namespace，默认为 public
        namespace: public
    gateway:
      routes:
        #设置路由id  保证唯一性
        - id: order-server-gateway
          #设置路由的uri  基于服务发现 等同于【  http://ip:8083/order-service 】
          uri: lb://order-service
          #设置路由断言
          predicates:
            - Path=/gateway/order/**
          filters:
            #StripPrefix 前缀  /gateway
            - StripPrefix=1

        - id: user-server-gateway
          uri: lb://user-service
          predicates:
            - Path=/gateway/user/**
          filters:
            - StripPrefix=1

